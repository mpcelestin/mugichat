<div class="card mb-4">
    <div class="card-body">
        <div class="media">
            <a href="{{ url_for('user_posts', username=post.author.username) }}">
                <img class="rounded-circle mr-3" src="{{ url_for('static', filename='profile_pics/' + post.author.profile_pic) }}" width="50" height="50">
            </a>
            <div class="media-body">
                <h5 class="mt-0">
                    <a href="{{ url_for('user_posts', username=post.author.username) }}">{{ post.author.username }}</a>
                </h5>
                <small class="text-muted">{{ post.timestamp.strftime('%Y-%m-%d %H:%M') }}</small>
            </div>
        </div>
        
        <p class="mt-3">{{ post.content }}</p>
        
        {% if post.image %}
            <img src="{{ url_for('static', filename='post_pics/' + post.image) }}" class="img-fluid mb-3">
        {% endif %}
        
        <!-- Like Button -->
        <div class="like-section mb-2">
            <button class="btn btn-sm btn-outline-primary like-btn" data-post-id="{{ post.id }}">
                <i class="far fa-thumbs-up"></i> Like
                <span class="badge bg-secondary">{{ post.likes_count }}</span>
            </button>
        </div>
        
        <!-- Comments Section -->
        <div class="comments-section">
            <form class="comment-form" data-post-id="{{ post.id }}">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Add a comment...">
                    <button class="btn btn-outline-secondary" type="submit">Post</button>
                </div>
            </form>
            
            <div class="comments-list" id="comments-{{ post.id }}">
                {% for comment in post.comments %}
                    <div class="media mt-3">
                        <img class="rounded-circle mr-3" src="{{ url_for('static', filename='profile_pics/' + comment.author.profile_pic) }}" width="30" height="30">
                        <div class="media-body">
                            <h6 class="mt-0">{{ comment.author.username }}</h6>
                            <p>{{ comment.content }}</p>
                            <small class="text-muted">{{ comment.timestamp.strftime('%Y-%m-%d %H:%M') }}</small>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>